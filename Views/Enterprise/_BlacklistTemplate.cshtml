@using ConnectCMS.Resources
<div class="listItemContainer marginTop" data-bind="click: ClickListItem, isHover: Hover">
	<a data-bind="text: EnterpriseLocationsLength() != 1 ? FormattedMapId() : FirstEnterpriseLocation().MapId, css: ClassName() + ' ' + (EnterpriseLocationsLength() != 1 ? 'listItemMapPinSquare' : 'listItemMapPinCircle')"></a>
	<img class="listItemImage marginLeft marginRight" data-bind="attr: { src: ListItemImage() != null ? ListItemImage().ListItemImageUrl : null }" />
	<div class="block marginLeft flexSpacer">
		<span class="listItemHeader center marginBlock" data-bind="text: Name"></span>
		<div>
			<div class="block" data-bind="visible: EnterpriseLocationsLength() != 1">
				<span class="listItemLabel block gray" data-bind="text: FormattedEnterpriseLocationsLength"></span>
			</div>
			<div class="block" data-bind="visible: EnterpriseLocationsLength() == 1, with: FirstEnterpriseLocation">
				<div class="block marginBlock">
					<img class="listItemLabelImage" src="Content/monscierge/images/distance.png" />
					<span class="listItemLabel black bold" data-bind="text: FormattedDistanceInMiles"></span>
					<span class="listItemLabel black bold">@ConnectCMSResources.Miles</span>
				</div>
				<div data-bind="if: Location() != null">
					<span class="listItemLabel block gray" data-bind="text: Location().FullAddress"></span>
				</div>
			</div>
		</div>
	</div>
	<div data-bind="listButton: ListButtonViewModel"></div>
</div>
<div class="marginListItemMapPin" data-bind="template: { name: 'enterpriseLocationBlacklistTemplate', foreach: EnterpriseLocations }, visible: Expanded"></div>